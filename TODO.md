# TODO リスト - ラストウォー風シューティングゲーム

## 現在の状態

✅ **完了した機能**:
- 基本的なシューティングゲームシステム
- レーン制（縦2分割）
- 障害物システム（HP付き、数字表示）
- 兵士増加システム（青ゲージ）
- 段階的な難易度上昇
- オブジェクト衝突回避
- プレイヤーダメージシステム
- ステージシステム（チュートリアル + 各ルート3ステージ）
- ストーリールート分岐（妹・姉・母）
- アイテム取得履歴システム
- ご褒美動画の全画面表示

## 必須タスク（動画ファイル準備）

### 動画ファイルの用意
**優先度**: 🔴 HIGH（ゲームプレイに必須）

現在、動画ファイルが未設定のため、ゲームをフルプレイできません。

**必要なファイル**:
```
videos/
├── sister-1.mp4      # 妹ルート ステージ1クリア後
├── sister-2.mp4      # 妹ルート ステージ2クリア後
├── sister-3.mp4      # 妹ルート ステージ3クリア後
├── older-sister-1.mp4  # 姉ルート ステージ1クリア後
├── older-sister-2.mp4  # 姉ルート ステージ2クリア後
├── older-sister-3.mp4  # 姉ルート ステージ3クリア後
├── mother-1.mp4      # 母ルート ステージ1クリア後
├── mother-2.mp4      # 母ルート ステージ2クリア後
└── mother-3.mp4      # 母ルート ステージ3クリア後
```

**推奨仕様**:
- 形式: MP4 (H.264)
- 解像度: 1280x720以上
- 長さ: 30秒〜2分程度
- アスペクト比: 16:9推奨

---

## 短期タスク（1-3日）

### 1. エンディング画面の実装
**優先度**: 🟠 MEDIUM

現在、エンディングはalertで簡易表示。専用画面を作成。

**タスク**:
- [ ] エンディング画面のHTML追加
- [ ] エンディングアニメーション
- [ ] 最終スコア表示
- [ ] 収集したアイテム統計表示
- [ ] クレジット表示

### 2. サウンドエフェクトの追加
**優先度**: 🟠 MEDIUM

ゲームに音がないため、臨場感に欠ける。

**タスク**:
- [ ] 射撃音
- [ ] 障害物破壊音
- [ ] アイテム取得音
- [ ] ダメージ音
- [ ] ステージクリア音
- [ ] BGM（各ルート別）

### 3. パーティクルエフェクト
**優先度**: 🟡 LOW

視覚的フィードバックの強化。

**タスク**:
- [ ] 障害物破壊時のエフェクト
- [ ] アイテム取得時のエフェクト
- [ ] ダメージ時のエフェクト
- [ ] ステージクリア時のエフェクト

### 4. チュートリアル説明の追加
**優先度**: 🟠 MEDIUM

初見プレイヤー向けの説明。

**タスク**:
- [ ] 操作方法の吹き出し表示
- [ ] 障害物の説明
- [ ] 青ゲージの説明
- [ ] ルート分岐の説明

---

## 中期タスク（1-2週間）

### 5. セーブ/ロード機能
**優先度**: 🟡 LOW

プレイ途中でも再開できるように。

**タスク**:
- [ ] LocalStorage にゲーム状態を保存
- [ ] ステージ途中から再開可能に
- [ ] ハイスコアの保存
- [ ] アンロック要素の保存

### 6. キャラクター立ち絵の追加
**優先度**: 🟠 MEDIUM

ノベルゲーム風の演出強化。

**タスク**:
- [ ] 妹キャラクターの立ち絵
- [ ] 姉キャラクターの立ち絵
- [ ] 母キャラクターの立ち絵
- [ ] ステージクリア時に表示
- [ ] 表情差分の実装

### 7. 会話システムの実装
**優先度**: 🟠 MEDIUM

ストーリー性の強化。

**タスク**:
- [ ] 会話テキストエリアの追加
- [ ] テキスト送り機能
- [ ] Auto/Skip機能
- [ ] ログ機能
- [ ] 各ステージの会話シナリオ作成

### 8. 追加コンテンツ
**優先度**: 🟡 LOW

リプレイ性の向上。

**タスク**:
- [ ] 隠しルートの追加
- [ ] 実績システム
- [ ] ギャラリーモード（CG鑑賞）
- [ ] ミュージックルーム

---

## 長期タスク（1ヶ月以上）

### 9. モバイル対応
**優先度**: 🟡 LOW

スマートフォンでもプレイ可能に。

**タスク**:
- [ ] タッチ操作の最適化
- [ ] レスポンシブデザイン
- [ ] 縦画面対応
- [ ] パフォーマンス最適化

### 10. 追加ステージ
**優先度**: 🟡 LOW

ボリュームアップ。

**タスク**:
- [ ] 各ルート5ステージに拡張
- [ ] ボーナスステージの追加
- [ ] ハードモードの追加
- [ ] エンドレスモード

### 11. マルチエンディング
**優先度**: 🟢 NICE TO HAVE

分岐の追加。

**タスク**:
- [ ] トゥルーエンディング
- [ ] バッドエンディング
- [ ] ハッピーエンディング（各ルート）
- [ ] 隠しエンディング

### 12. オンライン機能
**優先度**: 🟢 NICE TO HAVE

競争要素の追加。

**タスク**:
- [ ] オンラインランキング
- [ ] スコアシェア機能
- [ ] プレイ動画シェア

---

## バグ修正・改善

### 既知の問題
- [ ] ステージ間の遷移がスムーズでない可能性
- [ ] 動画ファイルが存在しない場合のエラーハンドリング
- [ ] 長時間プレイ時のメモリリーク確認

### パフォーマンス最適化
- [ ] 大量のオブジェクト生成時のFPS低下確認
- [ ] 画像/動画の最適化
- [ ] コードの最適化

### クロスブラウザ対応
- [ ] Safari でのテスト
- [ ] Firefox でのテスト
- [ ] Edge でのテスト
- [ ] モバイルブラウザでのテスト

---

## ドキュメント

### 更新が必要
- [ ] README.mdの動画ファイル構成を更新
- [ ] requirements.mdのステージシステム追記
- [ ] プレイガイドの作成

### 新規作成
- [ ] シナリオ設計書
- [ ] キャラクター設定資料
- [ ] 音楽・効果音リスト

---

## 優先順位まとめ

### 今すぐやるべき（🔴 HIGH）
1. 動画ファイルの用意（9個）

### 近いうちにやるべき（🟠 MEDIUM）
2. エンディング画面の実装
3. サウンドエフェクトの追加
4. チュートリアル説明
5. キャラクター立ち絵
6. 会話システム

### 余裕があればやる（🟡 LOW）
7. パーティクルエフェクト
8. セーブ/ロード機能
9. 追加コンテンツ
10. モバイル対応
11. 追加ステージ

### いつかやりたい（🟢 NICE TO HAVE）
12. マルチエンディング
13. オンライン機能

---

## 開発メモ

### 技術的負債
- Bossクラスのコードが残っている（未使用）→ 削除検討
- 衝突判定の最適化余地あり
- 状態管理をもっとシンプルに

### アイデア
- アイテムごとに特殊効果を追加（妹:回復、姉:攻撃力UP、母:防御力UP）
- 障害物の種類を増やす
- プレイヤーキャラクターを選択可能に

---

**最終更新**: 2025-10-31
**作成者**: Claude & User
